<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MY BOX - Conteneurs Polynésie | Jean-Baptiste HAUATA</title>
    <meta name="description" content="MY BOX - Spécialiste conteneurs en Polynésie française. Conteneurs bruts et aménagés direct usine. Devenez représentant commercial et gagnez jusqu'à 140 000 XPF par vente.">
    <style>
        :root {
            --primary: #2c5aa0;
            --secondary: #1e3d72;
            --accent: #ff6b35;
            --gold: #ffd700;
            --success: #28a745;
            --info: #17a2b8;
            --warning: #ffc107;
            --danger: #dc3545;
            --light: #f8f9fa;
            --dark: #212529;
            --white: #ffffff;
            
            --gradient-hero: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-accent: linear-gradient(135deg, #ff6b35, #f7931e);
            --gradient-success: linear-gradient(135deg, #28a745, #20c997);
            --gradient-info: linear-gradient(135deg, #17a2b8, #007bff);
            
            --shadow: 0 4px 15px rgba(0,0,0,0.1);
            --shadow-hover: 0 8px 25px rgba(0,0,0,0.15);
            --shadow-strong: 0 10px 30px rgba(0,0,0,0.2);
            
            --border-radius: 12px;
            --border-radius-lg: 20px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: var(--dark);
            overflow-x: hidden;
            background: var(--white);
        }
        
        /* Enhanced Navigation */
        .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(15px);
            box-shadow: var(--shadow);
            z-index: 1000;
            transition: var(--transition);
        }
        
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 2.2rem;
            font-weight: 800;
            background: var(--gradient-accent);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-decoration: none;
            letter-spacing: -0.5px;
        }
        
        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
            align-items: center;
        }
        
        .nav-links a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
            transition: var(--transition);
            position: relative;
            padding: 0.5rem 0;
        }
        
        .nav-links a:hover {
            color: var(--primary);
            transform: translateY(-1px);
        }
        
        .nav-links a.cta-nav {
            background: var(--gradient-accent);
            color: white;
            padding: 0.7rem 1.5rem;
            border-radius: 50px;
            font-weight: 600;
            box-shadow: var(--shadow);
        }
        
        .nav-links a.cta-nav:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-hover);
        }
        
        .nav-links a.affiliate-nav {
            background: var(--gradient-info);
            color: white;
            padding: 0.7rem 1.5rem;
            border-radius: 50px;
            font-weight: 600;
            box-shadow: var(--shadow);
        }
        
        /* Enhanced Hero */
        .hero {
            height: 100vh;
            background: var(--gradient-hero);
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
            position: relative;
            overflow: hidden;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="75" cy="75" r="1" fill="rgba(255,255,255,0.1)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }
        
        .hero-content {
            max-width: 900px;
            padding: 0 2rem;
            z-index: 2;
            position: relative;
        }
        
        .location-badge {
            background: rgba(255,255,255,0.2);
            padding: 0.8rem 2rem;
            border-radius: 50px;
            margin-bottom: 2rem;
            display: inline-block;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.3);
            font-weight: 500;
        }
        
        .hero h1 {
            font-size: clamp(3rem, 6vw, 5rem);
            margin-bottom: 1.5rem;
            font-weight: 900;
            letter-spacing: -2px;
            text-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
        
        .hero-subtitle {
            font-size: clamp(1.3rem, 3vw, 1.8rem);
            margin-bottom: 1rem;
            opacity: 0.95;
            font-weight: 300;
        }
        
        .hero-tagline {
            font-size: clamp(1rem, 2vw, 1.2rem);
            margin-bottom: 3rem;
            opacity: 0.9;
            font-weight: 400;
        }
        
        /* Enhanced Buttons */
        .btn {
            display: inline-block;
            padding: 1rem 2.5rem;
            text-decoration: none;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1.1rem;
            transition: var(--transition);
            border: none;
            cursor: pointer;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }
        
        .btn:hover::before {
            left: 100%;
        }
        
        .btn-primary {
            background: var(--gradient-accent);
            color: white;
            box-shadow: var(--shadow);
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-hover);
        }
        
        .btn-success {
            background: var(--gradient-success);
            color: white;
            box-shadow: var(--shadow);
        }
        
        .btn-info {
            background: var(--gradient-info);
            color: white;
            box-shadow: var(--shadow);
        }
        
        .btn-warning {
            background: linear-gradient(135deg, var(--warning), var(--gold));
            color: var(--dark);
            box-shadow: var(--shadow);
        }
        
        /* Enhanced Sections */
        .section {
            padding: 6rem 0;
            position: relative;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }
        
        .section-title {
            text-align: center;
            font-size: clamp(2.5rem, 5vw, 3.5rem);
            margin-bottom: 1rem;
            color: var(--primary);
            font-weight: 800;
            letter-spacing: -1px;
        }
        
        .section-subtitle {
            text-align: center;
            font-size: 1.3rem;
            margin-bottom: 4rem;
            color: #666;
            font-weight: 300;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        /* Enhanced Grid */
        .grid {
            display: grid;
            gap: 2rem;
        }
        
        .grid-2 { grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); }
        .grid-3 { grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); }
        .grid-4 { grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); }
        
        /* Enhanced Cards */
        .card {
            background: white;
            padding: 2.5rem;
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: 1px solid rgba(255,255,255,0.1);
            position: relative;
            overflow: hidden;
        }
        
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-accent);
        }
        
        .card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: var(--shadow-strong);
        }
        
        .card-icon {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            display: block;
            text-align: center;
        }
        
        .card h3 {
            margin-bottom: 1rem;
            color: var(--primary);
            font-weight: 700;
            font-size: 1.4rem;
        }
        
        .card p {
            color: #666;
            line-height: 1.7;
        }
        
        /* Enhanced Product Cards */
        .product-card {
            background: white;
            border-radius: var(--border-radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
        }
        
        .product-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: var(--gradient-accent);
        }
        
        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-strong);
        }
        
        .product-header {
            background: linear-gradient(135deg, var(--light), #e9ecef);
            padding: 2.5rem;
            text-align: center;
            position: relative;
        }
        
        .product-content {
            padding: 2.5rem;
        }
        
        .product-title {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--primary);
        }
        
        .product-description {
            color: #666;
            margin-bottom: 1.5rem;
            line-height: 1.7;
        }
        
        .product-price {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--accent);
            margin: 1.5rem 0;
            text-align: center;
        }
        
        .product-details {
            font-size: 0.9rem;
            color: #888;
            margin-bottom: 2rem;
            text-align: center;
            font-style: italic;
        }
        
        /* Enhanced About Section */
        .about {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        }
        
        .about-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 4rem;
            align-items: start;
        }
        
        .mission-box {
            background: var(--gradient-hero);
            color: white;
            padding: 2.5rem;
            border-radius: var(--border-radius-lg);
            margin: 2rem 0;
            box-shadow: var(--shadow);
        }
        
        .mission-box h3 {
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }
        
        .services-list {
            margin: 2rem 0;
        }
        
        .service-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1.2rem;
            background: white;
            border-radius: var(--border-radius);
            margin-bottom: 1rem;
            transition: var(--transition);
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        
        .service-item:hover {
            transform: translateX(10px);
            box-shadow: var(--shadow);
        }
        
        .service-icon {
            color: var(--success);
            font-size: 1.3rem;
            min-width: 24px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
        }
        
        .stat-card {
            background: white;
            padding: 2rem;
            border-radius: var(--border-radius-lg);
            text-align: center;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border-top: 4px solid var(--accent);
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }
        
        .stat-label {
            color: #666;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        /* Enhanced Contact Section */
        .contact {
            background: var(--gradient-hero);
            color: white;
            position: relative;
        }
        
        .contact::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="dots" width="20" height="20" patternUnits="userSpaceOnUse"><circle cx="10" cy="10" r="1" fill="rgba(255,255,255,0.1)"/></pattern></defs><rect width="100" height="100" fill="url(%23dots)"/></svg>');
        }
        
        .contact-item {
            text-align: center;
            padding: 2.5rem 2rem;
            background: rgba(255,255,255,0.1);
            border-radius: var(--border-radius-lg);
            backdrop-filter: blur(10px);
            transition: var(--transition);
            border: 1px solid rgba(255,255,255,0.2);
            position: relative;
            z-index: 1;
        }
        
        .contact-item:hover {
            transform: translateY(-5px);
            background: rgba(255,255,255,0.15);
            box-shadow: var(--shadow-hover);
        }
        
        .contact-icon {
            font-size: 3rem;
            margin-bottom: 1.5rem;
            opacity: 0.9;
        }
        
        .contact-item h3 {
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }
        
        .contact-item a {
            color: white;
            text-decoration: none;
            font-weight: 500;
        }
        
        .contact-item a:hover {
            text-decoration: underline;
        }
        
        /* Enhanced Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 2000;
            backdrop-filter: blur(5px);
        }
        
        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .modal-content {
            background: white;
            border-radius: var(--border-radius-lg);
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow: hidden;
            box-shadow: var(--shadow-strong);
            animation: slideUp 0.3s ease-out;
        }
        
        @keyframes slideUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .modal-header {
            background: var(--gradient-accent);
            color: white;
            padding: 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-header h3 {
            font-size: 1.5rem;
            font-weight: 700;
        }
        
        .close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 50%;
            transition: var(--transition);
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .close-btn:hover {
            background: rgba(255,255,255,0.2);
            transform: rotate(90deg);
        }
        
        .modal-body {
            padding: 2rem;
            max-height: 70vh;
            overflow-y: auto;
        }
        
        /* Enhanced Forms */
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--dark);
        }
        
        .form-control {
            width: 100%;
            padding: 1rem 1.2rem;
            border: 2px solid #e1e5e9;
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: var(--transition);
            background: #fafbfc;
            font-family: inherit;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--accent);
            background: white;
            box-shadow: 0 0 0 3px rgba(255, 107, 53, 0.1);
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }
        
        .success-message {
            display: none;
            text-align: center;
            padding: 3rem 2rem;
            color: var(--success);
        }
        
        .success-message.show {
            display: block;
        }
        
        .success-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
        }
        
        /* Affiliate Login Styles */
        .affiliate-login {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 2rem;
        }
        
        .login-container {
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(15px);
            border-radius: var(--border-radius-lg);
            padding: 3rem;
            max-width: 500px;
            width: 100%;
            border: 1px solid rgba(255,255,255,0.2);
            box-shadow: var(--shadow-strong);
        }
        
        .login-header {
            text-align: center;
            margin-bottom: 2.5rem;
        }
        
        .login-header h2 {
            color: var(--gold);
            margin-bottom: 1rem;
            font-size: 1.8rem;
        }
        
        .login-header p {
            opacity: 0.9;
            font-size: 1.1rem;
        }
        
        .login-form .form-group {
            margin-bottom: 2rem;
        }
        
        .login-form label {
            color: white;
            font-weight: 600;
            margin-bottom: 0.8rem;
            display: block;
        }
        
        .login-form .form-control {
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(255,255,255,0.3);
            color: white;
            padding: 1.2rem;
            font-size: 1.1rem;
        }
        
        .login-form .form-control::placeholder {
            color: rgba(255,255,255,0.7);
        }
        
        .login-form .form-control:focus {
            background: rgba(255,255,255,0.2);
            border-color: var(--gold);
            box-shadow: 0 0 0 3px rgba(255, 215, 0, 0.3);
        }
        
        .login-help {
            margin-top: 2rem;
            text-align: center;
            padding: 1.5rem;
            background: rgba(255,255,255,0.1);
            border-radius: var(--border-radius);
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .login-help p {
            margin: 0.5rem 0;
            font-size: 0.95rem;
        }
        
        .login-help strong {
            color: var(--gold);
        }
        
        /* Quick Actions */
        .quick-actions {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            align-items: center;
            padding: 2rem;
            background: rgba(255,255,255,0.1);
            border-radius: var(--border-radius-lg);
            margin-bottom: 2rem;
            backdrop-filter: blur(10px);
        }
        
        /* Sale Form Modal */
        .sale-modal {
            background: rgba(255,255,255,0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .sale-modal .modal-header {
            background: var(--gradient-success);
        }
        
        .sale-form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        /* Action Buttons */
        .action-btn {
            padding: 0.4rem 0.8rem;
            border-radius: 20px;
            border: none;
            cursor: pointer;
            font-size: 0.8rem;
            font-weight: 600;
            transition: var(--transition);
            margin: 0 0.2rem;
        }
        
        .action-btn.edit {
            background: var(--info);
            color: white;
        }
        
        .action-btn.edit:hover {
            background: #0056b3;
            transform: translateY(-1px);
        }
        
        .action-btn.delete {
            background: var(--danger);
            color: white;
        }
        
        .action-btn.delete:hover {
            background: #c82333;
            transform: translateY(-1px);
        }
        
        .action-btn.status {
            background: var(--warning);
            color: var(--dark);
        }
        
        .action-btn.status:hover {
            background: #e0a800;
            transform: translateY(-1px);
        }
        
        /* Status Badges Enhanced */
        .status-badge {
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .status-active {
            background: rgba(40, 167, 69, 0.2);
            color: var(--success);
        }
        
        .status-pending {
            background: rgba(255, 193, 7, 0.2);
            color: var(--warning);
        }
        
        .status-prospect {
            background: rgba(108, 117, 125, 0.2);
            color: #6c757d;
        }
        
        .status-devis {
            background: rgba(255, 193, 7, 0.2);
            color: var(--warning);
        }
        
        .status-negocie {
            background: rgba(23, 162, 184, 0.2);
            color: var(--info);
        }
        
        .status-valide {
            background: rgba(40, 167, 69, 0.2);
            color: var(--success);
        }
        
        .status-livre {
            background: rgba(13, 110, 253, 0.2);
            color: #0d6efd;
        }
        
        .status-annule {
            background: rgba(220, 53, 69, 0.2);
            color: var(--danger);
        }
        
        .commission-amount {
            font-weight: 700;
            color: var(--accent);
            font-size: 1rem;
        }
        
        /* Mobile Sales Cards */
        .sale-card {
            background: rgba(255,255,255,0.1);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin-bottom: 1rem;
            border-left: 4px solid var(--accent);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .sale-card h4 {
            color: var(--gold);
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }
        
        .sale-card-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.8rem;
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }
        
        .sale-card-info strong {
            color: white;
        }
        
        .sale-card-actions {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin-top: 1rem;
        }
        
        /* Affiliate Management Page */
        .affiliate-management {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        }
        
        .affiliate-header {
            background: var(--gradient-hero);
            color: white;
            padding: 4rem 0;
            text-align: center;
        }
        
        .affiliate-header h1 {
            font-size: clamp(2.5rem, 5vw, 3.5rem);
            margin-bottom: 1rem;
            font-weight: 800;
        }
        
        .affiliate-header p {
            font-size: 1.3rem;
            opacity: 0.9;
        }
        
        .affiliate-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 4rem 2rem;
        }
        
        .affiliate-section {
            background: white;
            padding: 3rem;
            border-radius: var(--border-radius-lg);
            margin-bottom: 3rem;
            box-shadow: var(--shadow);
            border-top: 4px solid var(--accent);
        }
        
        .section-header {
            margin-bottom: 2rem;
        }
        
        .section-header h2 {
            color: var(--primary);
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }
        
        .section-header p {
            color: #666;
            font-size: 1rem;
        }
        
        .affiliate-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1.5rem;
            background: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .affiliate-table th {
            background: var(--gradient-accent);
            color: white;
            padding: 1.2rem 1rem;
            text-align: left;
            font-weight: 600;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .affiliate-table td {
            padding: 1.2rem 1rem;
            border-bottom: 1px solid #e9ecef;
            font-size: 0.95rem;
        }
        
        .affiliate-table tbody tr:hover {
            background: #f8f9fa;
            transition: var(--transition);
        }
        
        .affiliate-table tbody tr:last-child td {
            border-bottom: none;
        }
        
        .rules-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        
        .rule-card {
            background: linear-gradient(135deg, #fff5f5, #f8f9fa);
            padding: 2rem;
            border-radius: var(--border-radius);
            border-left: 4px solid var(--accent);
            transition: var(--transition);
        }
        
        .rule-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-hover);
        }
        
        .rule-card h3 {
            color: var(--primary);
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }
        
        .rule-card p {
            color: #555;
            line-height: 1.6;
        }
        
        .back-button {
            position: fixed;
            top: 100px;
            right: 2rem;
            background: var(--gradient-accent);
            color: white;
            border: none;
            padding: 1rem 1.5rem;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: var(--shadow);
            transition: var(--transition);
            z-index: 1000;
        }
        
        .back-button:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-hover);
        }
        
        .page-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient-hero);
            z-index: 3000;
            overflow-y: auto;
            color: white;
        }
        
        .page-overlay.active {
            display: block;
            animation: slideIn 0.5s ease-out;
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .page-header {
            background: rgba(0,0,0,0.2);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 3001;
            backdrop-filter: blur(10px);
        }
        
        .page-nav {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .page-logo {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--gold);
        }
        
        .page-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 3rem 2rem;
        }
        
        .intro {
            text-align: center;
            margin-bottom: 4rem;
        }
        
        .intro h1 {
            font-size: clamp(2.5rem, 5vw, 3.5rem);
            margin-bottom: 1.5rem;
            font-weight: 800;
            letter-spacing: -1px;
        }
        
        .highlight-box {
            background: rgba(255,215,0,0.15);
            padding: 2rem;
            border-radius: var(--border-radius-lg);
            margin: 2rem 0;
            border: 2px solid rgba(255,215,0,0.3);
            backdrop-filter: blur(10px);
        }
        
        .section-box {
            background: rgba(255,255,255,0.08);
            padding: 3rem;
            border-radius: var(--border-radius-lg);
            margin-bottom: 3rem;
            border: 1px solid rgba(255,255,255,0.1);
            backdrop-filter: blur(5px);
        }
        
        .section-number {
            background: var(--gold);
            color: var(--dark);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            text-align: center;
            line-height: 50px;
            font-weight: 800;
            font-size: 1.2rem;
            display: inline-block;
            margin-bottom: 1.5rem;
        }
        
        .info-list {
            margin: 2rem 0;
        }
        
        .info-item {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            padding: 1.5rem;
            background: rgba(255,255,255,0.1);
            border-radius: var(--border-radius);
            margin-bottom: 1rem;
            border-left: 4px solid var(--gold);
            transition: var(--transition);
            backdrop-filter: blur(5px);
        }
        
        .info-item:hover {
            background: rgba(255,255,255,0.15);
            transform: translateX(10px);
        }
        
        .info-icon {
            color: var(--gold);
            font-size: 1.5rem;
            min-width: 30px;
            margin-top: 0.2rem;
        }
        
        .info-text strong {
            color: var(--gold);
            display: block;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }
        
        .commission-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        
        .commission-card {
            background: rgba(255,215,0,0.15);
            padding: 2.5rem 2rem;
            border-radius: var(--border-radius-lg);
            border: 2px solid rgba(255,215,0,0.3);
            text-align: center;
            transition: var(--transition);
            backdrop-filter: blur(10px);
        }
        
        .commission-card:hover {
            transform: scale(1.05);
            border-color: rgba(255,215,0,0.6);
            box-shadow: var(--shadow-hover);
        }
        
        .commission-amount {
            font-size: 3rem;
            font-weight: 800;
            color: var(--gold);
            margin-bottom: 0.5rem;
            line-height: 1;
        }
        
        .commission-type {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            color: var(--gold);
            font-weight: 600;
        }
        
        .commission-detail {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        /* Enhanced Footer */
        .footer {
            background: var(--dark);
            color: white;
            text-align: center;
            padding: 3rem 0;
        }
        
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }
        
        .footer-logo {
            font-size: 2rem;
            font-weight: 800;
            background: var(--gradient-accent);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
        }
        
        /* Floating Button */
        .floating-btn {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: var(--gradient-accent);
            color: white;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 1.5rem;
            cursor: pointer;
            z-index: 1000;
            box-shadow: var(--shadow-strong);
            transition: var(--transition);
        }
        
        .floating-btn:hover {
            transform: scale(1.1) rotate(5deg);
            box-shadow: 0 15px 40px rgba(255, 107, 53, 0.4);
        }
        
        /* Enhanced Responsive */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .about-content {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .form-row, .sale-form-grid {
                grid-template-columns: 1fr;
            }
            
            .modal-content {
                width: 95%;
            }
            
            .page-nav {
                flex-direction: column;
                text-align: center;
            }
            
            .commission-grid {
                grid-template-columns: 1fr;
            }
            
            .floating-btn {
                bottom: 1rem;
                right: 1rem;
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
            }
            
            .section {
                padding: 4rem 0;
            }
            
            .card, .product-card {
                padding: 2rem;
            }
            
            .affiliate-table {
                font-size: 0.8rem;
            }
            
            .affiliate-table th,
            .affiliate-table td {
                padding: 0.8rem 0.5rem;
            }
            
            .affiliate-table th:nth-child(3),
            .affiliate-table td:nth-child(3),
            .affiliate-table th:nth-child(4),
            .affiliate-table td:nth-child(4) {
                display: none;
            }
            
            .rules-grid {
                grid-template-columns: 1fr;
            }
            
            .back-button {
                top: 80px;
                right: 1rem;
                padding: 0.8rem 1.2rem;
                font-size: 0.9rem;
            }
        }
        
        @media (max-width: 576px) {
            .affiliate-table-responsive {
                display: block;
            }
            
            .affiliate-table-responsive .affiliate-table {
                display: none;
            }
            
            .affiliate-card {
                background: white;
                border-radius: var(--border-radius);
                padding: 1.5rem;
                margin-bottom: 1rem;
                box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                border-left: 4px solid var(--accent);
            }
            
            .affiliate-card h4 {
                color: var(--primary);
                margin-bottom: 0.5rem;
                font-size: 1.1rem;
            }
            
            .affiliate-card-info {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 0.5rem;
                font-size: 0.9rem;
                color: #666;
            }
            
            .affiliate-card-info strong {
                color: var(--dark);
            }
            
            .d-block.d-sm-none { display: block; }
        }
        
        @media (min-width: 577px) {
            .d-block.d-sm-none { display: none; }
        }
        
        /* Utilities */
        .text-center { text-align: center; }
        .text-bold { font-weight: 700; }
        .mb-2 { margin-bottom: 1rem; }
        .mb-3 { margin-bottom: 1.5rem; }
        .mt-2 { margin-top: 1rem; }
        .mt-3 { margin-top: 1.5rem; }
        .d-block { display: block; }
        .d-none { display: none; }
        
        /* Loading states */
        .loading {
            opacity: 0.7;
            pointer-events: none;
        }
        
        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }
        
        /* Selection styling */
        ::selection {
            background: var(--accent);
            color: white;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <a href="#accueil" class="logo">MY BOX</a>
            <ul class="nav-links">
                <li><a href="#accueil">Accueil</a></li>
                <li><a href="#apropos">À propos</a></li>
                <li><a href="#produits">Produits</a></li>
                <li><a href="#" onclick="openPartnership()" class="cta-nav">🚀 Devenir Représentant</a></li>
                <li><a href="#" onclick="openAffiliate()" class="affiliate-nav">👥 Espace Affilié</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="accueil">
        <div class="hero-content">
            <div class="location-badge">🏝️ POLYNÉSIE FRANÇAISE • TAHITI • MOOREA</div>
            <h1>MY BOX</h1>
            <div class="hero-subtitle">Conteneurs Premium Direct Usine</div>
            <div class="hero-tagline">Solutions clés en main • 13 ans d'expérience • Polynésie française</div>
            <a href="#produits" class="btn btn-primary">Découvrir nos conteneurs</a>
        </div>
    </section>

    <!-- Features Section -->
    <section class="section" style="background: var(--light);">
        <div class="container">
            <h2 class="section-title">Pourquoi choisir MY BOX ?</h2>
            <div class="section-subtitle">13 ans d'expertise au service de vos projets conteneurs</div>
            <div class="grid grid-4">
                <div class="card">
                    <span class="card-icon">🏭</span>
                    <h3>Direct Usine Chine</h3>
                    <p>Conteneurs premium en acier Corten, négociation directe fabricant pour les meilleurs prix du territoire</p>
                </div>
                <div class="card">
                    <span class="card-icon">🚢</span>
                    <h3>Transport Maritime</h3>
                    <p>Logistique complète depuis la Chine jusqu'à votre site en Polynésie française</p>
                </div>
                <div class="card">
                    <span class="card-icon">💯</span>
                    <h3>Transparence Totale</h3>
                    <p>Prix usine communiqué, facturation séparée de notre prestation service</p>
                </div>
                <div class="card">
                    <span class="card-icon">🎯</span>
                    <h3>Clés en Main</h3>
                    <p>De la commande à l'installation, nous gérons tout votre projet conteneur</p>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="section about" id="apropos">
        <div class="container">
            <h2 class="section-title">À propos de MY BOX</h2>
            <div class="about-content">
                <div class="about-text">
                    <p style="font-size: 1.2rem; margin-bottom: 2rem; line-height: 1.8;"><strong>MY BOX</strong>, c'est <strong>13 ans d'expertise</strong> dans le transport maritime international et l'importation de conteneurs en Polynésie française.</p>
                    
                    <div class="mission-box">
                        <h3>🎯 Notre Mission</h3>
                        <p>Vous fournir des conteneurs <strong>direct usine au prix fabricant</strong>, avec une logistique maritime complète et une livraison clés en main en Polynésie française.</p>
                    </div>
                    
                    <h3 style="color: var(--primary); margin-bottom: 1.5rem; font-size: 1.5rem;">🚀 Notre Expertise</h3>
                    <div class="services-list">
                        <div class="service-item">
                            <span class="service-icon">✅</span>
                            <span><strong>Négociation directe usines chinoises</strong> - Relations privilégiées</span>
                        </div>
                        <div class="service-item">
                            <span class="service-icon">✅</span>
                            <span><strong>Transport maritime international</strong> - 13 ans d'expérience</span>
                        </div>
                        <div class="service-item">
                            <span class="service-icon">✅</span>
                            <span><strong>Dédouanement et formalités</strong> - Gestion complète</span>
                        </div>
                        <div class="service-item">
                            <span class="service-icon">✅</span>
                            <span><strong>Livraison et installation</strong> - Sur tout le territoire</span>
                        </div>
                        <div class="service-item">
                            <span class="service-icon">✅</span>
                            <span><strong>Accompagnement personnalisé</strong> - De A à Z</span>
                        </div>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, var(--success), #20c997); color: white; padding: 2rem; border-radius: var(--border-radius-lg); margin-top: 2rem; text-align: center;">
                        <h4 style="margin-bottom: 1rem; font-size: 1.3rem;">🌟 Notre Engagement</h4>
                        <p style="margin: 0; font-size: 1.1rem;"><strong>Transparence totale :</strong> Vous connaissez le prix usine, nous facturons uniquement notre prestation de service.</p>
                    </div>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number">13+</div>
                        <div class="stat-label">Années d'expérience</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">100%</div>
                        <div class="stat-label">Direct usine</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">🏝️</div>
                        <div class="stat-label">Toute la Polynésie</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">🚢</div>
                        <div class="stat-label">Transport inclus</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Products Section -->
    <section class="section" style="background: var(--light);" id="produits">
        <div class="container">
            <h2 class="section-title">Nos Conteneurs</h2>
            <div class="section-subtitle">Solutions adaptées à tous vos besoins : habitation, bureau, stockage</div>
            <div class="grid grid-3">
                <div class="product-card">
                    <div class="product-header">
                        <span class="card-icon">📦</span>
                    </div>
                    <div class="product-content">
                        <h3 class="product-title">Conteneur Maritime Brut</h3>
                        <p class="product-description">Conteneur maritime dernier voyage en acier Corten. Structure robuste, base idéale pour aménagement personnalisé ou stockage professionnel.</p>
                        <div class="product-price">À partir de 480 000 XPF</div>
                        <div class="product-details">🛠️ Hors livraison, fondations et aménagements</div>
                        <button class="btn btn-primary" style="width: 100%;" onclick="openQuote('Conteneur Maritime Brut')">Demander un devis</button>
                    </div>
                </div>

                <div class="product-card">
                    <div class="product-header">
                        <span class="card-icon">🏡</span>
                    </div>
                    <div class="product-content">
                        <h3 class="product-title">Conteneur 20' Aménagé Pliable</h3>
                        <p class="product-description">Maison conteneur pliable 37 m² avec 2 chambres. Solution innovante, confortable et prête à vivre. Installation rapide et pratique.</p>
                        <div class="product-price">À partir de 2 270 000 XPF</div>
                        <div class="product-details">🚚 Hors fondations et raccordements</div>
                        <button class="btn btn-primary" style="width: 100%;" onclick="openQuote('Conteneur 20\' Aménagé Pliable')">Demander un devis</button>
                    </div>
                </div>

                <div class="product-card">
                    <div class="product-header">
                        <span class="card-icon">🏠</span>
                    </div>
                    <div class="product-content">
                        <h3 class="product-title">Conteneur 40' Aménagé Pliable</h3>
                        <p class="product-description">Grande maison pliable 73 m² avec 3 chambres. Solution haut de gamme pour résidence principale ou investissement locatif.</p>
                        <div class="product-price">À partir de 3 200 000 XPF</div>
                        <div class="product-details">🚚 Hors fondations et raccordements</div>
                        <button class="btn btn-primary" style="width: 100%;" onclick="openQuote('Conteneur 40\' Aménagé Pliable')">Demander un devis</button>
                    </div>
                </div>

                <div class="product-card">
                    <div class="product-header">
                        <span class="card-icon">💼</span>
                    </div>
                    <div class="product-content">
                        <h3 class="product-title">Conteneur Bureau</h3>
                        <p class="product-description">Bureau professionnel équipé, isolation thermique et électricité. Parfait pour télétravail, administration ou activité commerciale.</p>
                        <div class="product-price">À partir de 650 000 XPF</div>
                        <div class="product-details">📦 Hors fondations et raccordements</div>
                        <button class="btn btn-primary" style="width: 100%;" onclick="openQuote('Conteneur Bureau')">Demander un devis</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="section contact" id="contact">
        <div class="container">
            <h2 class="section-title" style="color: white;">Contactez MY BOX</h2>
            <p style="text-align: center; margin-bottom: 3rem; font-size: 1.2rem; opacity: 0.9;">Notre équipe d'experts vous accompagne dans votre projet</p>
            <div class="grid grid-4">
                <div class="contact-item">
                    <span class="contact-icon">📞</span>
                    <h3>Téléphone</h3>
                    <p><a href="tel:+68989785166">+689 89 78 51 66</a></p>
                    <small>Lundi - Vendredi : 8h - 17h</small>
                </div>
                <div class="contact-item">
                    <span class="contact-icon">✉️</span>
                    <h3>Email</h3>
                    <p><a href="mailto:myboxtahiti@gmail.com">myboxtahiti@gmail.com</a></p>
                    <small>Réponse sous 24h garantie</small>
                </div>
                <div class="contact-item">
                    <span class="contact-icon">📍</span>
                    <h3>Adresse</h3>
                    <p>Afaahiti, Domaine Vaitarua<br>PK 57.7 ct/mont, Tahiti</p>
                    <small>Visite sur rendez-vous</small>
                </div>
                <div class="contact-item">
                    <span class="contact-icon">🏝️</span>
                    <h3>Zone de livraison</h3>
                    <p>Tahiti • Moorea<br>Autres îles : nous consulter</p>
                    <small>Devis transport gratuit</small>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-logo">MY BOX</div>
            <p>&copy; 2025 MY BOX. Tous droits réservés.</p>
            <p>Spécialiste conteneurs Polynésie française • TAHITI : Afaahiti, Domaine Vaitarua PK 57.7</p>
            <p style="margin-top: 1rem; opacity: 0.8;">📞 +689 89 78 51 66 • ✉️ myboxtahiti@gmail.com</p>
        </div>
    </footer>

    <!-- Quote Modal -->
    <div class="modal" id="quoteModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>🏗️ Demande de devis MY BOX</h3>
                <button class="close-btn" onclick="closeModal('quoteModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="success-message" id="successMessage">
                    <span class="success-icon">✅</span>
                    <h3>Demande envoyée avec succès !</h3>
                    <p>Notre équipe vous contactera dans les 24h.</p>
                    <button class="btn btn-primary mt-2" onclick="closeModal('quoteModal')">Fermer</button>
                </div>

                <form id="quoteForm" action="https://formspree.io/f/mpwrwkdw" method="POST">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="nom">Nom *</label>
                            <input type="text" id="nom" name="nom" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="prenom">Prénom *</label>
                            <input type="text" id="prenom" name="prenom" class="form-control" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="ile">Île *</label>
                        <select id="ile" name="ile" class="form-control" required>
                            <option value="">Sélectionnez votre île</option>
                            <option value="Tahiti">Tahiti</option>
                            <option value="Moorea">Moorea</option>
                            <option value="Bora Bora">Bora Bora</option>
                            <option value="Huahine">Huahine</option>
                            <option value="Raiatea">Raiatea</option>
                            <option value="Taha'a">Taha'a</option>
                            <option value="Marquises">Îles Marquises</option>
                            <option value="Tuamotu">Îles Tuamotu</option>
                            <option value="Australes">Îles Australes</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="commune">Commune *</label>
                        <input type="text" id="commune" name="commune" class="form-control" required placeholder="Ex: Punaauia, Papeete, Afaahiti...">
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="telephone">Téléphone *</label>
                            <input type="tel" id="telephone" name="telephone" class="form-control" required placeholder="+689 XX XX XX XX">
                        </div>
                        <div class="form-group">
                            <label for="email">Email *</label>
                            <input type="email" id="email" name="_replyto" class="form-control" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="produit">Type de conteneur *</label>
                        <select id="produit" name="produit" class="form-control" required>
                            <option value="">Sélectionnez un type</option>
                            <option value="Conteneur Maritime Brut">Conteneur Maritime Brut</option>
                            <option value="Conteneur 20' Aménagé Pliable">Conteneur 20' Aménagé Pliable (37 m²)</option>
                            <option value="Conteneur 40' Aménagé Pliable">Conteneur 40' Aménagé Pliable (73 m²)</option>
                            <option value="Conteneur Bureau">Conteneur Bureau</option>
                            <option value="Candidature Représentant">🚀 Candidature Représentant Commercial</option>
                            <option value="Nouvelle Vente Affilié">💰 Déclaration Vente Affilié</option>
                        </select>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="usage">Usage prévu</label>
                            <select id="usage" name="usage" class="form-control">
                                <option value="">Sélectionnez l'usage</option>
                                <option value="Habitation principale">Habitation principale</option>
                                <option value="Habitation secondaire">Habitation secondaire</option>
                                <option value="Bureau / Local professionnel">Bureau / Local professionnel</option>
                                <option value="Commerce / Boutique">Commerce / Boutique</option>
                                <option value="Stockage">Stockage</option>
                                <option value="Investissement locatif">Investissement locatif</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="budget">Budget approximatif</label>
                            <select id="budget" name="budget" class="form-control">
                                <option value="">Sélectionnez votre budget</option>
                                <option value="Moins de 500 000 XPF">Moins de 500 000 XPF</option>
                                <option value="500 000 - 1 000 000 XPF">500 000 - 1 000 000 XPF</option>
                                <option value="1 000 000 - 2 500 000 XPF">1 000 000 - 2 500 000 XPF</option>
                                <option value="2 500 000 - 4 000 000 XPF">2 500 000 - 4 000 000 XPF</option>
                                <option value="Plus de 4 000 000 XPF">Plus de 4 000 000 XPF</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="message">Message / Détails du projet</label>
                        <textarea id="message" name="message" rows="4" class="form-control" placeholder="Décrivez votre projet, vos besoins spécifiques, délais souhaités..."></textarea>
                    </div>

                    <input type="hidden" name="_subject" value="Nouvelle demande de devis MY BOX">
                    <input type="hidden" name="source" value="Site Web MY BOX">
                    <input type="hidden" name="_captcha" value="false">

                    <button type="submit" class="btn btn-success" style="width: 100%; font-size: 1.1rem; padding: 1.2rem;">Envoyer ma demande</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Sale Form Modal -->
    <div class="modal sale-modal" id="saleModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>➕ Nouvelle Vente / Prospect</h3>
                <button class="close-btn" onclick="closeModal('saleModal')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="saleForm">
                    <h4 style="color: var(--primary); margin-bottom: 1.5rem;">👤 Informations Client</h4>
                    
                    <div class="sale-form-grid">
                        <div class="form-group">
                            <label for="clientNom">Nom *</label>
                            <input type="text" id="clientNom" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="clientPrenom">Prénom *</label>
                            <input type="text" id="clientPrenom" class="form-control" required>
                        </div>
                    </div>

                    <div class="sale-form-grid">
                        <div class="form-group">
                            <label for="clientTel">Téléphone *</label>
                            <input type="tel" id="clientTel" class="form-control" required placeholder="+689 XX XX XX XX">
                        </div>
                        <div class="form-group">
                            <label for="clientEmail">Email</label>
                            <input type="email" id="clientEmail" class="form-control" placeholder="client@email.com">
                        </div>
                    </div>

                    <div class="sale-form-grid">
                        <div class="form-group">
                            <label for="clientIle">Île</label>
                            <select id="clientIle" class="form-control">
                                <option value="">Sélectionnez</option>
                                <option value="Tahiti">Tahiti</option>
                                <option value="Moorea">Moorea</option>
                                <option value="Bora Bora">Bora Bora</option>
                                <option value="Huahine">Huahine</option>
                                <option value="Raiatea">Raiatea</option>
                                <option value="Taha'a">Taha'a</option>
                                <option value="Marquises">Îles Marquises</option>
                                <option value="Tuamotu">Îles Tuamotu</option>
                                <option value="Australes">Îles Australes</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="clientCommune">Commune</label>
                            <input type="text" id="clientCommune" class="form-control" placeholder="Ex: Punaauia, Papeete...">
                        </div>
                    </div>

                    <hr style="border-color: rgba(255,255,255,0.2); margin: 2rem 0;">

                    <h4 style="color: var(--primary); margin-bottom: 1.5rem;">📦 Détails Vente</h4>

                    <div class="sale-form-grid">
                        <div class="form-group">
                            <label for="produitType">Type de conteneur *</label>
                            <select id="produitType" class="form-control" required onchange="updateCommission()">
                                <option value="">Sélectionnez</option>
                                <option value="Conteneur 20' Aménagé Pliable" data-commission="120000">Conteneur 20' Aménagé Pliable (37 m²)</option>
                                <option value="Conteneur 40' Aménagé Pliable" data-commission="140000">Conteneur 40' Aménagé Pliable (73 m²)</option>
                                <option value="Conteneur Bureau" data-commission="60000">Conteneur Bureau</option>
                                <option value="Conteneur brut 20' (20DRY)" data-commission="25000">Conteneur brut 20' (20DRY)</option>
                                <option value="Conteneur brut 40' HC" data-commission="20000">Conteneur brut 40' HC</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="montantVente">Montant vente (XPF)</label>
                            <input type="number" id="montantVente" class="form-control" placeholder="Ex: 2500000">
                        </div>
                    </div>

                    <div class="sale-form-grid">
                        <div class="form-group">
                            <label for="statusVente">Statut *</label>
                            <select id="statusVente" class="form-control" required>
                                <option value="Prospect">🔍 Prospect (premier contact)</option>
                                <option value="Devis envoyé">📄 Devis envoyé</option>
                                <option value="En négociation">💬 En négociation</option>
                                <option value="Devis validé">✅ Devis validé (paiement en cours)</option>
                                <option value="Livré/Installé">🚚 Livré/Installé</option>
                                <option value="Annulé">❌ Annulé</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="commissionPreview">Commission prévue</label>
                            <input type="text" id="commissionPreview" class="form-control" readonly style="background: rgba(40,167,69,0.2); color: var(--success); font-weight: bold;">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="notesVente">Notes / Commentaires</label>
                        <textarea id="notesVente" rows="3" class="form-control" placeholder="Remarques, besoins spécifiques, prochaines étapes..."></textarea>
                    </div>

                    <input type="hidden" id="saleId" value="">
                    
                    <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                        <button type="submit" class="btn btn-success" style="flex: 1;">💾 Enregistrer</button>
                        <button type="button" class="btn btn-warning" onclick="closeModal('saleModal')" style="flex: 1;">❌ Annuler</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Confirmation Modal -->
    <div class="modal" id="confirmModal">
        <div class="modal-content" style="max-width: 400px;">
            <div class="modal-header" style="background: var(--danger);">
                <h3>⚠️ Confirmation</h3>
                <button class="close-btn" onclick="closeModal('confirmModal')">&times;</button>
            </div>
            <div class="modal-body" style="text-align: center; padding: 2rem;">
                <p id="confirmMessage" style="margin-bottom: 2rem; font-size: 1.1rem;"></p>
                <div style="display: flex; gap: 1rem;">
                    <button id="confirmAction" class="btn btn-danger" style="flex: 1;"></button>
                    <button class="btn btn-warning" onclick="closeModal('confirmModal')" style="flex: 1;">Annuler</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Partnership Page -->
    <div class="page-overlay" id="partnershipPage">
        <div class="page-header">
            <div class="page-nav">
                <div class="page-logo">🚀 REPRÉSENTANTS COMMERCIAUX MY BOX</div>
                <button class="btn btn-success" onclick="closePage('partnershipPage')">← Retour au site</button>
            </div>
        </div>
        
        <div class="page-content">
            <div class="intro">
                <h1>🚀 Devenez Représentant Commercial Officiel</h1>
                <p style="font-size: 1.3rem; margin-bottom: 1rem;">💼 Vous cherchez un revenu simple, rapide et sérieux ?</p>
                <p style="font-size: 1.2rem; margin-bottom: 2rem;">Rejoignez le réseau MY BOX et <strong>touchez jusqu'à 140 000 XPF par vente</strong></p>
                <div class="highlight-box">
                    <p style="font-size: 1.2rem; margin: 0;"><strong>✅ Aucune avance • ✅ Aucun stock • ✅ Vous proposez — on s'occupe du reste</strong></p>
                </div>
            </div>

            <div class="grid grid-4 mb-3">
                <div class="card" style="background: rgba(255,255,255,0.1); border-color: var(--gold);">
                    <span class="card-icon">📦</span>
                    <h3 style="color: var(--gold);">Produits Premium</h3>
                    <p>Conteneurs direct usine Chine, meilleur prix du territoire polynésien</p>
                </div>
                <div class="card" style="background: rgba(255,255,255,0.1); border-color: var(--gold);">
                    <span class="card-icon">🎯</span>
                    <h3 style="color: var(--gold);">Processus Simple</h3>
                    <p>4 étapes : proposer, transmettre, nous gérons tout, vous êtes payé</p>
                </div>
                <div class="card" style="background: rgba(255,255,255,0.1); border-color: var(--gold);">
                    <span class="card-icon">🎓</span>
                    <h3 style="color: var(--gold);">Formation Gratuite</h3>
                    <p>Guide PDF + vidéos + groupe WhatsApp commercial + accompagnement</p>
                </div>
                <div class="card" style="background: rgba(255,255,255,0.1); border-color: var(--gold);">
                    <span class="card-icon">💰</span>
                    <h3 style="color: var(--gold);">Revenus Garantis</h3>
                    <p>Commission à chaque vente confirmée, paiement sous 10 jours</p>
                </div>
            </div>

            <div class="section-box">
                <span class="section-number">1</span>
                <h3 style="color: var(--gold); font-size: 2rem; margin-bottom: 2rem;">🎯 Comment ça marche ?</h3>
                
                <div class="info-list">
                    <div class="info-item">
                        <span class="info-icon">1️⃣</span>
                        <div class="info-text">
                            <strong>Vous parlez de nos conteneurs</strong>
                            À vos contacts, amis, clients, réseau professionnel, famille
                        </div>
                    </div>
                    <div class="info-item">
                        <span class="info-icon">2️⃣</span>
                        <div class="info-text">
                            <strong>Vous transmettez les coordonnées</strong>
                            Via WhatsApp, email avec votre code commercial personnel
                        </div>
                    </div>
                    <div class="info-item">
                        <span class="info-icon">3️⃣</span>
                        <div class="info-text">
                            <strong>MY BOX gère entièrement la suite</strong>
                            Devis, négociation, commande, transport, livraison, installation
                        </div>
                    </div>
                    <div class="info-item">
                        <span class="info-icon">4️⃣</span>
                        <div class="info-text">
                            <strong>Vous êtes payé automatiquement</strong>
                            Commission versée en 2 temps selon le contrat officiel
                        </div>
                    </div>
                </div>
            </div>

            <div class="section-box">
                <span class="section-number">2</span>
                <h3 style="color: var(--gold); font-size: 2rem; margin-bottom: 2rem;">💰 Vos Commissions Officielles</h3>
                
                <div class="commission-grid">
                    <div class="commission-card">
                        <div class="commission-amount">140K</div>
                        <div class="commission-type">Conteneur 40' Aménagé Pliable</div>
                        <div class="commission-detail">100 000 XPF + 40 000 XPF<br><small>1ère tranche + livraison</small></div>
                    </div>
                    <div class="commission-card">
                        <div class="commission-amount">120K</div>
                        <div class="commission-type">Conteneur 20' Aménagé Pliable</div>
                        <div class="commission-detail">80 000 XPF + 40 000 XPF<br><small>1ère tranche + livraison</small></div>
                    </div>
                    <div class="commission-card">
                        <div class="commission-amount">60K</div>
                        <div class="commission-type">Conteneur Bureau</div>
                        <div class="commission-detail">50 000 XPF + 10 000 XPF<br><small>1ère tranche + livraison</small></div>
                    </div>
                    <div class="commission-card">
                        <div class="commission-amount">20-25K</div>
                        <div class="commission-type">Conteneurs Bruts</div>
                        <div class="commission-detail">Selon taille<br><small>20DRY : 25K • 40HC : 20K</small></div>
                    </div>
                </div>

                <div class="highlight-box">
                    <h4 style="color: var(--gold); margin-bottom: 1rem; font-size: 1.3rem;">💡 Modalités de Paiement</h4>
                    <div class="grid grid-2" style="gap: 1rem; text-align: left;">
                        <div>
                            <p><strong>🥇 1ère partie :</strong> Au paiement client de la première tranche</p>
                            <p><strong>📞 Contact :</strong> Votre commission est réservée dès le premier contact validé</p>
                        </div>
                        <div>
                            <p><strong>🏆 2ème partie :</strong> À la livraison/installation validée par MY BOX</p>
                            <p><strong>⚡ Délai :</strong> Paiement sous 10 jours ouvrés par virement</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section-box">
                <span class="section-number">3</span>
                <h3 style="color: var(--gold); font-size: 2rem; margin-bottom: 2rem;">🎯 Système Affiliation Bonus</h3>
                
                <p style="margin-bottom: 2rem; font-size: 1.1rem;">Recrutez d'autres commerciaux et gagnez un <strong>bonus unique</strong> sur leur première vente !</p>
                
                <div style="background: rgba(255,107,53,0.2); padding: 2rem; border-radius: var(--border-radius-lg); margin: 2rem 0; border: 2px solid rgba(255,107,53,0.4);">
                    <h4 style="color: var(--accent); margin-bottom: 1.5rem; font-size: 1.3rem;">⚠️ Règles Importantes du Système d'Affiliation</h4>
                    <div style="font-size: 1rem;">
                        <p>🔹 <strong>Commission unique :</strong> Versée SEULEMENT à la première vente de votre affilié</p>
                        <p>🔹 <strong>Autonomie rapide :</strong> Dès sa 2ème vente, votre affilié devient commercial direct</p>
                        <p>🔹 <strong>Limite de réseau :</strong> Maximum 3 affiliés actifs par recruteur</p>
                        <p>🔹 <strong>Commission déduite :</strong> Le bonus est automatiquement déduit de la commission de l'affilié</p>
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin: 2rem 0;">
                    <div style="background: rgba(40,167,69,0.2); padding: 2rem; border-radius: var(--border-radius-lg); border: 2px solid rgba(40,167,69,0.4);">
                        <h4 style="color: var(--success); margin-bottom: 1rem;">💰 Commercial Direct</h4>
                        <div style="font-size: 0.95rem;">
                            <p><strong>20' Aménagé :</strong> 120 000 XPF</p>
                            <p><strong>40' Aménagé :</strong> 140 000 XPF</p>
                            <p><strong>Bureau :</strong> 60 000 XPF</p>
                            <p><strong>Bruts :</strong> 20-25 000 XPF</p>
                        </div>
                    </div>
                    <div style="background: rgba(23,162,184,0.2); padding: 2rem; border-radius: var(--border-radius-lg); border: 2px solid rgba(23,162,184,0.4);">
                        <h4 style="color: var(--info); margin-bottom: 1rem;">🤝 Affilié (1ère vente uniquement)</h4>
                        <div style="font-size: 0.95rem;">
                            <p><strong>20' Aménagé :</strong> 108 000 XPF</p>
                            <p><strong>40' Aménagé :</strong> 126 000 XPF</p>
                            <p><strong>Bureau :</strong> 54 000 XPF</p>
                            <p><strong>Bruts :</strong> 18-22 500 XPF</p>
                        </div>
                    </div>
                </div>

                <div style="background: rgba(255,215,0,0.2); padding: 2.5rem; border-radius: var(--border-radius-lg); margin: 2rem 0; border: 2px solid rgba(255,215,0,0.4);">
                    <h4 style="color: var(--gold); margin-bottom: 1.5rem; font-size: 1.4rem;">💡 Bonus d'Affiliation (versement unique)</h4>
                    <div style="font-size: 1rem; display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                        <div>
                            <p>• <strong>40' Aménagé :</strong> +14 000 XPF</p>
                            <p>• <strong>20' Aménagé :</strong> +12 000 XPF</p>
                        </div>
                        <div>
                            <p>• <strong>Bureau :</strong> +6 000 XPF</p>
                            <p>• <strong>Bruts :</strong> +2 000-2 500 XPF</p>
                        </div>
                    </div>
                </div>

                <div style="background: rgba(52,152,219,0.2); padding: 2.5rem; border-radius: var(--border-radius-lg); margin: 2rem 0; border: 2px solid rgba(52,152,219,0.4);">
                    <h4 style="color: var(--info); margin-bottom: 1.5rem; font-size: 1.4rem;">🚀 Exemple Concret</h4>
                    <div style="font-size: 1.1rem;">
                        <p><strong>VOUS vendez :</strong> 1 conteneur 40' = <strong>140 000 XPF</strong></p>
                        <p><strong>VOTRE AFFILIÉ vend :</strong> 1 conteneur 40' (sa 1ère vente) = <strong>+14 000 XPF</strong> bonus unique</p>
                        <p><strong>VOTRE AFFILIÉ vend :</strong> 1 conteneur 20' (sa 2ème vente) = <strong>0 XPF</strong> bonus (il devient autonome)</p>
                        <p style="font-size: 1.3rem; font-weight: 800; color: var(--info); margin-top: 1.5rem; text-align: center;">💎 TOTAL : 154 000 XPF + commissions futures directes !</p>
                    </div>
                </div>
            </div>

            <div class="section-box">
                <span class="section-number">4</span>
                <h3 style="color: var(--gold); font-size: 2rem; margin-bottom: 2rem;">✅ Profil Recherché</h3>
                
                <div class="info-list">
                    <div class="info-item">
                        <span class="info-icon">📋</span>
                        <div class="info-text">
                            <strong>Statut PATENTÉ obligatoire</strong>
                            Auto-entrepreneur, société, activité déclarée en Polynésie française
                        </div>
                    </div>
                    <div class="info-item">
                        <span class="info-icon">💬</span>
                        <div class="info-text">
                            <strong>Aisance relationnelle</strong>
                            À l'aise pour présenter les produits dans votre réseau personnel/professionnel
                        </div>
                    </div>
                    <div class="info-item">
                        <span class="info-icon">💰</span>
                        <div class="info-text">
                            <strong>Objectif revenus sérieux</strong>
                            Activité complémentaire ou principale, sans risque financier
                        </div>
                    </div>
                    <div class="info-item">
                        <span class="info-icon">🤝</span>
                        <div class="info-text">
                            <strong>Respect du partenariat</strong>
                            Clause de non-concurrence 3 mois après rupture éventuelle
                        </div>
                    </div>
                </div>

                <div style="background: rgba(23,162,184,0.2); padding: 2rem; border-radius: var(--border-radius-lg); margin: 2rem 0; border: 2px solid rgba(23,162,184,0.4);">
                    <h4 style="color: var(--info); margin-bottom: 1rem; font-size: 1.2rem;">🎓 Pas d'expérience ? Aucun problème !</h4>
                    <p><strong>Formation complète gratuite fournie :</strong></p>
                    <div style="margin-top: 1rem;">
                        <p>📖 <strong>Guide PDF détaillé</strong> - Fiches produits, prix, argumentaires</p>
                        <p>🎥 <strong>Vidéos explicatives</strong> - Présentation produits et techniques de vente</p>
                        <p>📲 <strong>Groupe WhatsApp commercial</strong> - Support quotidien et partage d'expériences</p>
                        <p>🤝 <strong>Accompagnement personnel</strong> - Support disponible pour vos questions</p>
                    </div>
                    <p style="margin-top: 1rem; font-style: italic;">Si vous n'avez pas encore de patente, nous vous accompagnons dans les démarches !</p>
                </div>
            </div>

            <div class="section-box">
                <span class="section-number">5</span>
                <h3 style="color: var(--gold); font-size: 2rem; margin-bottom: 2rem;">⚖️ Règles de Commission</h3>
                <p style="margin-bottom: 2rem; font-size: 1.1rem;">Conditions importantes pour le versement des commissions</p>
                
                <div class="rules-grid">
                    <div class="rule-card">
                        <h3>💰 Déclenchement de Commission</h3>
                        <p><strong>Commission versée uniquement après paiement client effectif.</strong> Aucune commission n'est due tant qu'aucun versement financier n'a été reçu par MY BOX.</p>
                    </div>
                    
                    <div class="rule-card">
                        <h3>🚫 Pas de Paiement = Pas de Commission</h3>
                        <p><strong>Règle absolue :</strong> Devis signé, promesse d'achat ou contact client ne déclenchent aucune commission. Seul le paiement effectif valide la commission.</p>
                    </div>
                    
                    <div class="rule-card">
                        <h3>📅 Délai de Versement</h3>
                        <p><strong>10 jours ouvrés</strong> après validation du paiement client. Commission versée en 2 temps : à la première tranche puis à la livraison validée.</p>
                    </div>
                    
                    <div class="rule-card">
                        <h3>🎯 Code Commercial</h3>
                        <p><strong>Obligation d'identification :</strong> Votre code commercial doit figurer sur le devis client ou dans la traçabilité de vente pour valider votre commission.</p>
                    </div>
                    
                    <div class="rule-card">
                        <h3>🤝 Commission d'Affiliation</h3>
                        <p><strong>Bonus unique :</strong> Commission d'affiliation versée seulement à la première vente de votre affilié. Dès sa 2ème vente, il devient commercial autonome.</p>
                    </div>
                    
                    <div class="rule-card">
                        <h3>📋 Justificatifs Requis</h3>
                        <p><strong>Facture obligatoire :</strong> Tout versement de commission nécessite l'édition d'une facture ou reçu officiel de la part du commercial patenté.</p>
                    </div>
                </div>
            </div>

            <div style="background: var(--gradient-hero); color: white; padding: 3rem; border-radius: var(--border-radius-lg); text-align: center; margin-top: 3rem;">
                <h3 style="margin-bottom: 1rem; font-size: 1.5rem;">📧 Contact & Support</h3>
                <p>Pour toute question sur vos commissions, suivi de ventes ou problème technique :</p>
                <p style="margin-top: 1rem;">
                    <a href="mailto:myboxtahiti@gmail.com" style="color: var(--gold); text-decoration: none; font-weight: 600; font-size: 1.1rem;">myboxtahiti@gmail.com</a>
                </p>
                <p style="margin-top: 0.5rem;">
                    <a href="tel:+68989785166" style="color: var(--gold); text-decoration: none; font-weight: 600; font-size: 1.1rem;">📞 +689 89 78 51 66</a>
                </p>
                <p style="margin-top: 1rem; font-size: 0.9rem; opacity: 0.8;">
                    Réponse garantie sous 24h • Support disponible du lundi au vendredi 8h-17h
                </p>
            </div>

            <div style="background: rgba(255,255,255,0.1); padding: 3rem; border-radius: var(--border-radius-lg); margin-top: 4rem; text-align: center;">
                <h3 style="font-size: 2.2rem; color: var(--gold); margin-bottom: 2rem;">📝 Prêt à démarrer ?</h3>
                <p style="margin-bottom: 2rem; font-size: 1.1rem;">Rejoignez notre réseau de représentants commerciaux officiels !</p>
                
                <div style="background: rgba(255,255,255,0.08); padding: 2rem; border-radius: var(--border-radius); margin: 2rem 0;">
                    <h4 style="color: var(--gold); margin-bottom: 1.5rem;">🚀 Étapes pour devenir représentant</h4>
                    <div style="text-align: left; max-width: 600px; margin: 0 auto; font-size: 1rem;">
                        <p style="margin: 0.5rem 0;"><strong>1.</strong> 📥 Téléchargez le contrat de partenariat officiel</p>
                        <p style="margin: 0.5rem 0;"><strong>2.</strong> ✍️ Complétez et signez le document</p>
                        <p style="margin: 0.5rem 0;"><strong>3.</strong> ✉️ Envoyez le contrat signé par email</p>
                        <p style="margin: 0.5rem 0;"><strong>4.</strong> 💰 Recevez votre code commercial personnel sous 48h</p>
                        <p style="margin: 0.5rem 0;"><strong>5.</strong> 🎓 Accès immédiat à la formation et aux outils</p>
                    </div>
                </div>
                
                <div style="display: flex; gap: 1.5rem; justify-content: center; flex-wrap: wrap; margin-top: 2rem;">
                    <button class="btn btn-warning" onclick="downloadContract()">📥 Télécharger Contrat</button>
                    <a href="tel:+68989785166" class="btn btn-success">📞 Nous Appeler</a>
                    <button class="btn btn-success" onclick="openQuote('Candidature Représentant')">📝 Candidature Express</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Affiliate Management Page -->
    <div class="page-overlay affiliate-management" id="affiliateManagement">
        <button class="back-button" onclick="closePage('affiliateManagement')">← Retour</button>
        
        <!-- Login Form -->
        <div id="affiliateLogin" class="affiliate-login">
            <div class="login-container">
                <div class="login-header">
                    <h2>🔐 Accès Espace Commercial</h2>
                    <p>Connectez-vous pour accéder à vos outils de gestion</p>
                </div>
                <form id="loginForm" class="login-form">
                    <div class="form-group">
                        <label for="loginEmail">Email Commercial</label>
                        <input type="email" id="loginEmail" class="form-control" required placeholder="votre.email@exemple.com">
                    </div>
                    <div class="form-group">
                        <label for="loginCode">Code d'Accès</label>
                        <input type="text" id="loginCode" class="form-control" required placeholder="VOTRE_CODE_COMMERCIAL" style="text-transform: uppercase;">
                    </div>
                    <button type="submit" class="btn btn-success" style="width: 100%;">🚀 Se connecter</button>
                </form>
                <div class="login-help">
                    <p><strong>Comptes de test :</strong></p>
                    <p>📧 demo@mybox.pf • 🔑 DEMO2025</p>
                    <p>📧 commercial@mybox.pf • 🔑 MYBOX2025</p>
                    <hr style="border-color: rgba(255,255,255,0.3); margin: 1rem 0;">
                    <p><strong>Pas encore de code ?</strong></p>
                    <p>📞 Contactez MY BOX au +689 89 78 51 66</p>
                </div>
            </div>
        </div>
        
        <!-- Main Interface (hidden until login) -->
        <div id="affiliateInterface" style="display: none;">
            <div class="affiliate-header">
                <div class="container">
                    <h1>🤝 Espace Commercial – MY BOX</h1>
                    <p>Bienvenue <span id="userWelcome"></span> - Gérez vos prospects et ventes</p>
                    <button class="btn btn-warning" onclick="logoutAffiliate()" style="margin-top: 1rem;">🚪 Se déconnecter</button>
                </div>
            </div>
        
            <div class="affiliate-content">
                <!-- Bouton Nouvelle Vente -->
                <div class="quick-actions">
                    <button class="btn btn-success" onclick="openSaleForm()" style="margin-bottom: 2rem;">
                        ➕ Nouvelle Vente / Prospect
                    </button>
                    <button class="btn btn-info" onclick="refreshData()" style="margin-bottom: 2rem; margin-left: 1rem;">
                        🔄 Actualiser
                    </button>
                </div>

                <!-- Mes Ventes / Prospects -->
                <div class="affiliate-section">
                    <div class="section-header">
                        <h2>📊 Mes Ventes & Prospects</h2>
                        <p>Suivi en temps réel de votre activité commerciale</p>
                    </div>
                    
                    <!-- Version Desktop/Tablet -->
                    <div class="my-sales-table-responsive">
                        <table class="affiliate-table" id="mySalesTable">
                            <thead>
                                <tr>
                                    <th>Client</th>
                                    <th>Contact</th>
                                    <th>Produit</th>
                                    <th>Montant</th>
                                    <th>Statut</th>
                                    <th>Date</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="mySalesBody">
                                <!-- Données chargées dynamiquement -->
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- Version Mobile -->
                    <div class="d-block d-sm-none" id="mySalesCards">
                        <!-- Cartes chargées dynamiquement -->
                    </div>
                </div>

                <!-- Tableau des Affiliés -->
                <div class="affiliate-section">
                    <div class="section-header">
                        <h2>📊 Réseau Commercial MY BOX</h2>
                        <p>Vue d'ensemble des performances commerciales</p>
                    </div>
                    
                    <!-- Version Desktop/Tablet -->
                    <div class="affiliate-table-responsive">
                        <table class="affiliate-table">
                            <thead>
                                <tr>
                                    <th>Commercial</th>
                                    <th>Contact</th>
                                    <th>Zone</th>
                                    <th>Ventes Réalisées</th>
                                    <th>Commissions</th>
                                    <th>Statut</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Teiva P.</strong></td>
                                    <td>+689 89 XX XX XX</td>
                                    <td>Tahiti Sud</td>
                                    <td style="text-align: center;">6 ventes</td>
                                    <td><span class="commission-amount">118 000 XPF</span></td>
                                    <td><span class="status-badge status-active">Actif</span></td>
                                </tr>
                                <tr>
                                    <td><strong>Hina M.</strong></td>
                                    <td>+689 87 XX XX XX</td>
                                    <td>Moorea</td>
                                    <td style="text-align: center;">3 ventes</td>
                                    <td><span class="commission-amount">63 000 XPF</span></td>
                                    <td><span class="status-badge status-active">Actif</span></td>
                                </tr>
                                <tr>
                                    <td><strong>Raimana T.</strong></td>
                                    <td>+689 89 XX XX XX</td>
                                    <td>Tahiti Nord</td>
                                    <td style="text-align: center;">2 ventes</td>
                                    <td><span class="commission-amount">45 000 XPF</span></td>
                                    <td><span class="status-badge status-active">Actif</span></td>
                                </tr>
                                <tr>
                                    <td><strong>Vanina L.</strong></td>
                                    <td>+689 87 XX XX XX</td>
                                    <td>Punaauia</td>
                                    <td style="text-align: center;">1 vente</td>
                                    <td><span class="commission-amount">25 000 XPF</span></td>
                                    <td><span class="status-badge status-pending">En cours</span></td>
                                </tr>
                                <tr>
                                    <td><strong>Teva R.</strong></td>
                                    <td>+689 89 XX XX XX</td>
                                    <td>Bora Bora</td>
                                    <td style="text-align: center;">4 ventes</td>
                                    <td><span class="commission-amount">92 000 XPF</span></td>
                                    <td><span class="status-badge status-active">Actif</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating Button -->
    <button class="floating-btn" onclick="openQuote('Demande générale')" title="Devis rapide">📝</button>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
        // Configuration globale
        const APP = {
            selectedProduct: '',
            isLoading: false,
            currentUser: null,
            editingSale: null
        };

        // Base de données fictive des commerciaux
        const COMMERCIAL_DB = {
            'teiva@mybox.pf': { code: 'TEIVA2025', name: 'Teiva Polynésien', zone: 'Tahiti Sud' },
            'hina@mybox.pf': { code: 'HINA2025', name: 'Hina Moorea', zone: 'Moorea' },
            'demo@mybox.pf': { code: 'DEMO2025', name: 'Commercial Démo', zone: 'Test Zone' },
            'commercial@mybox.pf': { code: 'MYBOX2025', name: 'Commercial MY BOX', zone: 'Polynésie' }
        };

        // Utilitaires
        const $ = id => document.getElementById(id);
        const formatNumber = num => new Intl.NumberFormat('fr-FR').format(num);
        const formatXPF = amount => formatNumber(amount) + ' XPF';

        // Gestion localStorage pour les ventes
        function getSalesData() {
            const data = localStorage.getItem('mybox_sales_' + APP.currentUser.email);
            return data ? JSON.parse(data) : [];
        }

        function saveSalesData(salesData) {
            localStorage.setItem('mybox_sales_' + APP.currentUser.email, JSON.stringify(salesData));
        }

        function generateSaleId() {
            return 'SALE_' + Date.now() + '_' + Math.random().toString(36).substr(2, 5).toUpperCase();
        }

        // Authentification
        function loginAffiliate() {
            const email = $('loginEmail').value.toLowerCase().trim();
            const code = $('loginCode').value.toUpperCase().trim();

            if (!email || !code) {
                alert('❌ Veuillez remplir tous les champs');
                return false;
            }

            if (COMMERCIAL_DB[email] && COMMERCIAL_DB[email].code === code) {
                APP.currentUser = {
                    email: email,
                    ...COMMERCIAL_DB[email]
                };

                // Affichage interface
                $('affiliateLogin').style.display = 'none';
                $('affiliateInterface').style.display = 'block';
                $('userWelcome').textContent = APP.currentUser.name;

                // Chargement des données
                loadMySales();
                
                // Message de bienvenue
                setTimeout(() => {
                    alert(`🎉 Bienvenue ${APP.currentUser.name} !\n\nVous pouvez maintenant :\n✅ Saisir vos prospects et ventes\n✅ Suivre vos commissions\n✅ Mettre à jour les statuts`);
                }, 500);

                return true;
            } else {
                alert('❌ Email ou code incorrect\n\nContactez MY BOX pour obtenir vos identifiants :\n📞 +689 89 78 51 66\n📧 myboxtahiti@gmail.com');
                return false;
            }
        }

        function logoutAffiliate() {
            if (confirm('🚪 Êtes-vous sûr de vouloir vous déconnecter ?')) {
                APP.currentUser = null;
                $('affiliateLogin').style.display = 'block';
                $('affiliateInterface').style.display = 'none';
                $('loginForm').reset();
            }
        }

        // Gestion des ventes
        function openSaleForm(saleData = null) {
            APP.editingSale = saleData;
            const form = $('saleForm');
            form.reset();

            if (saleData) {
                // Mode édition
                $('saleModal').querySelector('h3').textContent = '✏️ Modifier Vente / Prospect';
                $('saleId').value = saleData.id;
                $('clientNom').value = saleData.clientNom;
                $('clientPrenom').value = saleData.clientPrenom;
                $('clientTel').value = saleData.clientTel;
                $('clientEmail').value = saleData.clientEmail || '';
                $('clientIle').value = saleData.clientIle || '';
                $('clientCommune').value = saleData.clientCommune || '';
                $('produitType').value = saleData.produitType;
                $('montantVente').value = saleData.montantVente || '';
                $('statusVente').value = saleData.status;
                $('notesVente').value = saleData.notes || '';
                updateCommission();
            } else {
                // Mode création
                $('saleModal').querySelector('h3').textContent = '➕ Nouvelle Vente / Prospect';
                $('saleId').value = '';
            }

            $('saleModal').classList.add('active');
            document.body.style.overflow = 'hidden';
            setTimeout(() => $('clientNom')?.focus(), 300);
        }

        function updateCommission() {
            const select = $('produitType');
            const preview = $('commissionPreview');
            
            if (select.value) {
                const option = select.options[select.selectedIndex];
                const commission = option.getAttribute('data-commission');
                if (commission) {
                    preview.value = formatXPF(parseInt(commission));
                }
            } else {
                preview.value = '';
            }
        }

        function submitSale() {
            const formData = {
                id: $('saleId').value || generateSaleId(),
                clientNom: $('clientNom').value.trim(),
                clientPrenom: $('clientPrenom').value.trim(),
                clientTel: $('clientTel').value.trim(),
                clientEmail: $('clientEmail').value.trim(),
                clientIle: $('clientIle').value,
                clientCommune: $('clientCommune').value.trim(),
                produitType: $('produitType').value,
                montantVente: $('montantVente').value ? parseInt($('montantVente').value) : null,
                status: $('statusVente').value,
                notes: $('notesVente').value.trim(),
                dateCreation: APP.editingSale ? APP.editingSale.dateCreation : new Date().toISOString(),
                dateModification: new Date().toISOString(),
                commercial: APP.currentUser.name,
                commercialEmail: APP.currentUser.email
            };

            // Validation
            if (!formData.clientNom || !formData.clientPrenom || !formData.clientTel || !formData.produitType || !formData.status) {
                alert('❌ Veuillez remplir tous les champs obligatoires');
                return false;
            }

            // Sauvegarde
            let salesData = getSalesData();
            
            if (APP.editingSale) {
                // Mise à jour
                const index = salesData.findIndex(sale => sale.id === formData.id);
                if (index !== -1) {
                    salesData[index] = formData;
                }
            } else {
                // Création
                salesData.unshift(formData);
            }

            saveSalesData(salesData);
            loadMySales();
            closeModal('saleModal');

            const action = APP.editingSale ? 'modifiée' : 'ajoutée';
            alert(`✅ Vente ${action} avec succès !\n\nClient : ${formData.clientPrenom} ${formData.clientNom}\nProduit : ${formData.produitType}\nStatut : ${formData.status}`);

            return true;
        }

        function loadMySales() {
            const salesData = getSalesData();
            const tableBody = $('mySalesBody');
            const mobileCards = $('mySalesCards');

            // Vider les conteneurs
            tableBody.innerHTML = '';
            mobileCards.innerHTML = '';

            if (salesData.length === 0) {
                tableBody.innerHTML = '<tr><td colspan="7" style="text-align: center; padding: 2rem; opacity: 0.7;">📭 Aucune vente enregistrée<br><small>Cliquez sur "Nouvelle Vente" pour commencer</small></td></tr>';
                mobileCards.innerHTML = '<div style="text-align: center; padding: 2rem; opacity: 0.7;">📭 Aucune vente enregistrée<br><small>Cliquez sur "Nouvelle Vente" pour commencer</small></div>';
                return;
            }

            salesData.forEach(sale => {
                // Version desktop/tablet
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><strong>${sale.clientPrenom} ${sale.clientNom}</strong></td>
                    <td>${sale.clientTel}<br><small style="opacity: 0.7;">${sale.clientEmail || 'Email non renseigné'}</small></td>
                    <td>${sale.produitType}</td>
                    <td>${sale.montantVente ? formatXPF(sale.montantVente) : 'Non défini'}</td>
                    <td><span class="status-badge ${getStatusClass(sale.status)}">${sale.status}</span></td>
                    <td>${formatDate(sale.dateCreation)}</td>
                    <td>
                        <button class="action-btn edit" onclick="openSaleForm(${JSON.stringify(sale).replace(/"/g, '&quot;')})">✏️</button>
                        <button class="action-btn status" onclick="changeStatus('${sale.id}')">🔄</button>
                        <button class="action-btn delete" onclick="deleteSale('${sale.id}')">🗑️</button>
                    </td>
                `;
                tableBody.appendChild(row);

                // Version mobile
                const card = document.createElement('div');
                card.className = 'sale-card';
                card.innerHTML = `
                    <h4>${sale.clientPrenom} ${sale.clientNom}</h4>
                    <div class="sale-card-info">
                        <div><strong>Contact:</strong> ${sale.clientTel}</div>
                        <div><strong>Email:</strong> ${sale.clientEmail || 'Non renseigné'}</div>
                        <div><strong>Produit:</strong> ${sale.produitType}</div>
                        <div><strong>Montant:</strong> ${sale.montantVente ? formatXPF(sale.montantVente) : 'Non défini'}</div>
                        <div><strong>Statut:</strong> <span class="status-badge ${getStatusClass(sale.status)}">${sale.status}</span></div>
                        <div><strong>Date:</strong> ${formatDate(sale.dateCreation)}</div>
                    </div>
                    <div class="sale-card-actions">
                        <button class="action-btn edit" onclick="openSaleForm(${JSON.stringify(sale).replace(/"/g, '&quot;')})">✏️ Modifier</button>
                        <button class="action-btn status" onclick="changeStatus('${sale.id}')">🔄 Statut</button>
                        <button class="action-btn delete" onclick="deleteSale('${sale.id}')">🗑️ Supprimer</button>
                    </div>
                `;
                mobileCards.appendChild(card);
            });
        }

        function getStatusClass(status) {
            const statusMap = {
                'Prospect': 'status-prospect',
                'Devis envoyé': 'status-devis',
                'En négociation': 'status-negocie',
                'Devis validé': 'status-valide',
                'Livré/Installé': 'status-livre',
                'Annulé': 'status-annule'
            };
            return statusMap[status] || 'status-prospect';
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('fr-FR', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric'
            });
        }

        function changeStatus(saleId) {
            const salesData = getSalesData();
            const sale = salesData.find(s => s.id === saleId);
            
            if (!sale) return;

            const statuses = [
                'Prospect',
                'Devis envoyé',
                'En négociation',
                'Devis validé',
                'Livré/Installé',
                'Annulé'
            ];

            const currentIndex = statuses.indexOf(sale.status);
            const statusOptions = statuses.map((status, index) => 
                `${index === currentIndex ? '▶️' : '⭕'} ${status}`
            ).join('\n');

            const newStatusIndex = prompt(`📊 Changer le statut de ${sale.clientPrenom} ${sale.clientNom}\n\nStatut actuel : ${sale.status}\n\nSélectionnez le nouveau statut (0-5) :\n\n${statusOptions}`, currentIndex);

            if (newStatusIndex !== null && newStatusIndex >= 0 && newStatusIndex <= 5) {
                const index = parseInt(newStatusIndex);
                if (index >= 0 && index < statuses.length) {
                    sale.status = statuses[index];
                    sale.dateModification = new Date().toISOString();
                    saveSalesData(salesData);
                    loadMySales();
                    alert(`✅ Statut mis à jour !\n\n${sale.clientPrenom} ${sale.clientNom}\n➡️ ${sale.status}`);
                }
            }
        }

        function deleteSale(saleId) {
            const salesData = getSalesData();
            const sale = salesData.find(s => s.id === saleId);
            
            if (!sale) return;

            $('confirmMessage').textContent = `Êtes-vous sûr de vouloir supprimer cette vente ?\n\n${sale.clientPrenom} ${sale.clientNom}\n${sale.produitType}`;
            $('confirmAction').textContent = '🗑️ Supprimer';
            $('confirmAction').onclick = () => {
                const updatedData = salesData.filter(s => s.id !== saleId);
                saveSalesData(updatedData);
                loadMySales();
                closeModal('confirmModal');
                alert('✅ Vente supprimée avec succès');
            };

            $('confirmModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function refreshData() {
            if (!APP.currentUser) return;
            
            loadMySales();
            alert('🔄 Données actualisées !');
        }

        // Gestion des modales
        function openQuote(productName = '') {
            APP.selectedProduct = productName;
            const form = $('quoteForm');
            const success = $('successMessage');
            
            // Reset du formulaire
            form.style.display = 'block';
            success.classList.remove('show');
            form.reset();
            
            // Pré-sélection du produit
            if (productName && productName !== 'Demande générale') {
                $('produit').value = productName;
            }
            
            // Ouverture de la modale
            $('quoteModal').classList.add('active');
            document.body.style.overflow = 'hidden';
            
            // Focus sur le premier champ après animation
            setTimeout(() => $('nom')?.focus(), 300);
        }

        function closeModal(modalId) {
            $(modalId).classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        function openPartnership() {
            $('partnershipPage').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function openAffiliate() {
            $('affiliateManagement').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closePage(pageId) {
            $(pageId).classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // Validation et soumission du formulaire
        function validateForm() {
            const required = ['nom', 'prenom', 'ile', 'commune', 'telephone', 'email', 'produit'];
            let valid = true;

            required.forEach(id => {
                const field = $(id);
                if (field && !field.value.trim()) {
                    field.style.borderColor = 'var(--danger)';
                    field.style.boxShadow = '0 0 0 3px rgba(220, 53, 69, 0.1)';
                    valid = false;
                } else if (field) {
                    field.style.borderColor = '#e1e5e9';
                    field.style.boxShadow = 'none';
                }
            });

            // Validation email
            const email = $('email');
            if (email && email.value && !email.value.includes('@')) {
                email.style.borderColor = 'var(--danger)';
                valid = false;
            }

            // Validation téléphone
            const tel = $('telephone');
            if (tel && tel.value && tel.value.length < 8) {
                tel.style.borderColor = 'var(--danger)';
                valid = false;
            }

            return valid;
        }

        function submitForm() {
            if (APP.isLoading) return;
            
            APP.isLoading = true;
            const form = $('quoteForm');
            const submitBtn = form.querySelector('button[type="submit"]');
            const originalText = submitBtn.textContent;
            
            // État de chargement
            submitBtn.textContent = 'Envoi en cours...';
            submitBtn.classList.add('loading');
            
            const formData = new FormData(form);
            
            // Ajout de métadonnées
            if (APP.selectedProduct) {
                formData.append('produit_selectionne', APP.selectedProduct);
            }
            formData.append('timestamp', new Date().toLocaleString('fr-FR', {timeZone: 'Pacific/Tahiti'}));
            formData.append('user_agent', navigator.userAgent);
            formData.append('page_url', window.location.href);
            
            fetch(form.action, {
                method: 'POST',
                body: formData,
                headers: { 'Accept': 'application/json' }
            })
            .then(response => {
                if (response.ok) {
                    // Succès
                    form.style.display = 'none';
                    $('successMessage').classList.add('show');
                    
                    // Analytics/tracking si nécessaire
                    if (typeof gtag !== 'undefined') {
                        gtag('event', 'form_submit', {
                            event_category: 'engagement',
                            event_label: APP.selectedProduct || 'general'
                        });
                    }
                } else {
                    throw new Error('Erreur serveur');
                }
            })
            .catch(error => {
                console.error('Erreur soumission:', error);
                alert('❌ Erreur lors de l\'envoi.\n\nContactez-nous directement :\n📞 +689 89 78 51 66\n📧 myboxtahiti@gmail.com');
            })
            .finally(() => {
                // Reset de l'état
                APP.isLoading = false;
                submitBtn.textContent = originalText;
                submitBtn.classList.remove('loading');
            });
        }

        // Téléchargement du contrat PDF
        function downloadContract() {
            try {
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF();
                
                // Configuration
                doc.setFont("helvetica");
                let yPosition = 20;
                const pageWidth = doc.internal.pageSize.width;
                const margin = 15;
                const maxWidth = pageWidth - (2 * margin);
                
                // Fonction pour ajouter du texte avec retour à la ligne automatique
                function addText(text, size = 10, style = 'normal', align = 'left') {
                    doc.setFontSize(size);
                    doc.setFont("helvetica", style);
                    
                    if (yPosition > 270) {
                        doc.addPage();
                        yPosition = 20;
                    }
                    
                    const lines = doc.splitTextToSize(text, maxWidth);
                    lines.forEach(line => {
                        if (yPosition > 270) {
                            doc.addPage();
                            yPosition = 20;
                        }
                        
                        let xPosition = margin;
                        if (align === 'center') {
                            xPosition = pageWidth / 2;
                        }
                        
                        doc.text(line, xPosition, yPosition, { align: align });
                        yPosition += size * 0.5;
                    });
                    yPosition += 3;
                }
                
                // Contenu du contrat
                addText("CONTRAT DE PARTENARIAT COMMERCIAL - MY BOX", 16, 'bold', 'center');
                addText("Version avec commission en 2 temps + affiliation encadrée", 12, 'normal', 'center');
                yPosition += 5;
                
                addText("ENTRE LES SOUSSIGNÉS :", 12, 'bold');
                yPosition += 2;
                
                addText("MY BOX, entreprise spécialisée dans l'importation et la vente de conteneurs, sise à Afaahiti, Domaine Vaitarua PK 57.7 ct/mont, ci-après dénommée « MY BOX »");
                yPosition += 3;
                
                addText("ET");
                yPosition += 2;
                
                addText("Nom : ___________________________");
                addText("Statut : Patenté(e) en Polynésie française");
                addText("N° Tahiti : ___________________________");
                addText("Adresse : ___________________________");
                addText("Tél / WhatsApp : ____________________");
                addText("Email : ___________________________");
                addText("ci-après dénommé(e) « le Partenaire »");
                yPosition += 5;
                
                addText("1. Objet", 12, 'bold');
                addText("Ce contrat définit la relation commerciale entre MY BOX et le Partenaire dans le cadre de la promotion et la vente de conteneurs bruts et aménagés (produits standards ou pliables), avec un système de commissions et d'affiliation structuré.");
                yPosition += 3;
                
                addText("2. Conditions d'accès", 12, 'bold');
                addText("• Le Partenaire doit être obligatoirement patenté(e) et inscrit(e) au registre du commerce.");
                addText("• Une copie de patente et du justificatif RIB sont requis avant tout paiement.");
                addText("• En l'absence de patente, aucune commission ne sera versée.");
                yPosition += 3;
                
                addText("3. Commissions commerciales (vente directe)", 12, 'bold');
                addText("Les commissions sont versées en deux étapes :");
                yPosition += 2;
                
                // Tableau des commissions
                addText("Produit                           1ère tranche    Livraison/pose    Total", 10, 'bold');
                addText("20' Aménagé Pliable (37 m²)     80 000 XPF      40 000 XPF       120 000 XPF");
                addText("40' Aménagé Pliable (73 m²)    100 000 XPF      40 000 XPF       140 000 XPF");
                addText("Conteneur Bureau                 50 000 XPF      10 000 XPF        60 000 XPF");
                addText("Conteneur brut 20' (20DRY)      20 000 XPF       5 000 XPF        25 000 XPF");
                addText("Conteneur brut 40' HC           15 000 XPF       5 000 XPF        20 000 XPF");
                yPosition += 2;
                
                addText("Le versement du solde est conditionné à la validation de la livraison ou de l'installation (photo, attestation ou retour client).");
                yPosition += 3;
                
                addText("4. Commission d'affiliation (réseau)", 12, 'bold');
                addText("Produit                           Commission affilié    Reste commercial net");
                addText("20' Aménagé Pliable (37 m²)           12 000 XPF           108 000 XPF");
                addText("40' Aménagé Pliable (73 m²)           14 000 XPF           126 000 XPF");
                addText("Conteneur Bureau                        6 000 XPF            54 000 XPF");
                addText("Conteneur brut 20' (20DRY)             2 500 XPF            22 500 XPF");
                addText("Conteneur brut 40' HC                  2 000 XPF            18 000 XPF");
                yPosition += 2;
                
                addText("IMPORTANT : La commission affiliée est automatiquement déduite de la commission brute du commercial concerné. Elle est versée une seule fois, à la première vente validée d'un affilié.", 10, 'bold');
                addText("Dès sa deuxième vente, l'affilié devient un commercial autonome et ne génère plus de commission affiliée pour son recruteur. Il peut à son tour parrainer un nouvel affilié selon les mêmes conditions.");
                addText("Un maximum de trois affiliés actifs est autorisé par recruteur, sauf accord écrit préalable de MY BOX.");
                yPosition += 3;
                
                // Nouvelle page si nécessaire
                if (yPosition > 200) {
                    doc.addPage();
                    yPosition = 20;
                }
                
                addText("5. Modalités de paiement", 12, 'bold');
                addText("• Paiement exclusivement par virement bancaire");
                addText("• Délai : 10 jours ouvrés après validation de chaque étape");
                addText("• Une facture ou reçu officiel est obligatoire pour tout versement");
                yPosition += 3;
                
                addText("6. Attribution des ventes", 12, 'bold');
                addText("• Chaque Partenaire dispose d'un code commercial personnel");
                addText("• La commission est due à la validation d'une vente par un paiement effectué");
                addText("• En cas de conflit, priorité au Partenaire avec devis signé ou paiement identifié");
                yPosition += 3;
                
                addText("7. Clause de non-concurrence", 12, 'bold');
                addText("Le Partenaire s'engage à ne pas vendre, représenter ou promouvoir des produits ou services concurrents à ceux de MY BOX pendant toute la durée du contrat et pendant 3 mois suivant sa résiliation.");
                addText("Tout manquement entraîne la résiliation immédiate du contrat sans indemnité.");
                yPosition += 3;
                
                addText("8. Communication & image de marque", 12, 'bold');
                addText("• Toute communication utilisant le nom MY BOX doit être validée préalablement");
                addText("• Un kit média officiel est fourni (logos, photos, fiches produits)");
                yPosition += 3;
                
                addText("9. Durée & résiliation", 12, 'bold');
                addText("Contrat à durée indéterminée, résiliable à tout moment par notification écrite.");
                yPosition += 3;
                
                addText("10. Litiges", 12, 'bold');
                addText("En cas de désaccord, différend porté devant le Tribunal de Première Instance de Papeete.");
                yPosition += 5;
                
                addText("Fait à ________________, le ________________");
                yPosition += 5;
                
                addText("Signature MY BOX                    Signature du Partenaire");
                addText("(Lu et approuvé)                    (Lu et approuvé, bon pour accord)");
                yPosition += 5;
                
                addText("CONTACT : myboxtahiti@gmail.com | +689 89 78 51 66", 10, 'bold', 'center');
                
                // Sauvegarde du PDF
                const fileName = `Contrat_Partenariat_MY_BOX_${new Date().getFullYear()}.pdf`;
                doc.save(fileName);
                
                // Message de confirmation
                setTimeout(() => {
                    alert('📄 Contrat PDF téléchargé avec succès !\n\n✅ Imprimez le document\n✅ Complétez et signez-le\n✅ Envoyez-le à myboxtahiti@gmail.com\n\n📞 Questions ? Appelez-nous au +689 89 78 51 66');
                }, 500);
                
            } catch (error) {
                console.error('Erreur génération PDF:', error);
                // Fallback version texte
                const content = `📄 CONTRAT DE PARTENARIAT COMMERCIAL - MY BOX
Entreprise spécialisée dans l'importation et la vente de conteneurs
Adresse : Afaahiti, Domaine Vaitarua PK 57.7 ct/mont, Tahiti

🏢 COMMISSIONS DIRECTES (paiement en 2 temps):
20' Aménagé Pliable (37 m²): 120 000 XPF (80 000 + 40 000)
40' Aménagé Pliable (73 m²): 140 000 XPF (100 000 + 40 000)
Conteneur Bureau: 60 000 XPF (50 000 + 10 000)
Conteneur brut 20': 25 000 XPF (20 000 + 5 000)
Conteneur brut 40': 20 000 XPF (15 000 + 5 000)

🤝 COMMISSIONS AFFILIATION (réseau):
20' Aménagé: 12 000 XPF (reste 108 000 XPF)
40' Aménagé: 14 000 XPF (reste 126 000 XPF)
Bureau: 6 000 XPF (reste 54 000 XPF)
Brut 20': 2 500 XPF (reste 22 500 XPF)
Brut 40': 2 000 XPF (reste 18 000 XPF)

📋 CONDITIONS:
• Statut patenté obligatoire
• Commission versée une seule fois par affilié
• Maximum 3 affiliés actifs par recruteur
• Paiement sous 10 jours par virement
• Non-concurrence 3 mois

📞 CONTACT: myboxtahiti@gmail.com | +689 89 78 51 66`;

                downloadFile(content, 'Contrat_MY_BOX_' + new Date().getFullYear() + '.txt');
                alert('📄 Version PDF indisponible, fichier texte téléchargé.\nContactez-nous pour la version PDF officielle.');
            }
        }

        function downloadFile(content, filename) {
            try {
                const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
                const url = window.URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.href = url;
                link.download = filename;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                window.URL.revokeObjectURL(url);
            } catch (error) {
                console.error('Erreur téléchargement:', error);
                alert('Erreur de téléchargement. Contactez-nous directement.');
            }
        }

        // Formatage automatique du téléphone
        function formatPhone(input) {
            let value = input.value.replace(/\D/g, '');
            
            if (value.startsWith('689')) {
                value = '+' + value;
            } else if (value.length === 8) {
                value = '+689 ' + value;
            } else if (value.length === 6) {
                value = '+689 ' + value;
            }
            
            input.value = value;
        }

        // Gestion des événements
        document.addEventListener('DOMContentLoaded', function() {
            // Connexion affilié
            $('loginForm')?.addEventListener('submit', function(e) {
                e.preventDefault();
                loginAffiliate();
            });

            // Soumission du formulaire de vente
            $('saleForm')?.addEventListener('submit', function(e) {
                e.preventDefault();
                submitSale();
            });

            // Soumission du formulaire de devis
            $('quoteForm')?.addEventListener('submit', function(e) {
                e.preventDefault();
                if (validateForm() && !APP.isLoading) {
                    submitForm();
                }
            });

            // Formatage du téléphone dans le formulaire de vente
            $('clientTel')?.addEventListener('input', function(e) {
                formatPhone(e.target);
            });

            // Mise à jour commission lors du changement de produit
            $('produitType')?.addEventListener('change', updateCommission);

            // Formatage du téléphone dans le formulaire de devis
            $('telephone')?.addEventListener('input', function(e) {
                formatPhone(e.target);
            });

            // Validation en temps réel pour le formulaire de devis
            const formFields = ['nom', 'prenom', 'ile', 'commune', 'telephone', 'email', 'produit'];
            formFields.forEach(fieldId => {
                const field = $(fieldId);
                if (field) {
                    field.addEventListener('blur', function() {
                        if (this.value.trim()) {
                            this.style.borderColor = 'var(--success)';
                            this.style.boxShadow = '0 0 0 3px rgba(40, 167, 69, 0.1)';
                        }
                    });
                }
            });

            // Navigation fluide
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        const offsetTop = target.offsetTop - 80; // Compensation navbar
                        window.scrollTo({
                            top: offsetTop,
                            behavior: 'smooth'
                        });
                    }
                });
            });

            // Fermeture modales par clic extérieur
            $('quoteModal')?.addEventListener('click', function(e) {
                if (e.target === this) {
                    closeModal('quoteModal');
                }
            });

            $('saleModal')?.addEventListener('click', function(e) {
                if (e.target === this) {
                    closeModal('saleModal');
                }
            });

            $('confirmModal')?.addEventListener('click', function(e) {
                if (e.target === this) {
                    closeModal('confirmModal');
                }
            });

            // Fermeture par Échap
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    if ($('quoteModal').classList.contains('active')) {
                        closeModal('quoteModal');
                    }
                    if ($('saleModal').classList.contains('active')) {
                        closeModal('saleModal');
                    }
                    if ($('confirmModal').classList.contains('active')) {
                        closeModal('confirmModal');
                    }
                    if ($('partnershipPage').classList.contains('active')) {
                        closePage('partnershipPage');
                    }
                    if ($('affiliateManagement').classList.contains('active')) {
                        closePage('affiliateManagement');
                    }
                }
            });

            // Effet navbar au scroll
            window.addEventListener('scroll', function() {
                const navbar = $('navbar');
                if (window.scrollY > 50) {
                    navbar.style.background = 'rgba(255, 255, 255, 0.98)';
                    navbar.style.boxShadow = '0 4px 20px rgba(0,0,0,0.15)';
                } else {
                    navbar.style.background = 'rgba(255, 255, 255, 0.95)';
                    navbar.style.boxShadow = '0 4px 15px rgba(0,0,0,0.1)';
                }
            });

            // Animations au scroll (Intersection Observer)
            if ('IntersectionObserver' in window) {
                const observerOptions = {
                    threshold: 0.1,
                    rootMargin: '0px 0px -50px 0px'
                };

                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.style.opacity = '1';
                            entry.target.style.transform = 'translateY(0)';
                        }
                    });
                }, observerOptions);

                // Observer les cartes et sections
                document.querySelectorAll('.card, .product-card, .contact-item').forEach(el => {
                    el.style.opacity = '0';
                    el.style.transform = 'translateY(30px)';
                    el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                    observer.observe(el);
                });
            }

            // Message de bienvenue en console pour les développeurs
            console.log(`
🏝️ MY BOX - Site Web Premium
🏢 Polynésie française - Spécialiste conteneurs
📞 +689 89 78 51 66 | 📧 myboxtahiti@gmail.com

🚀 Fonctionnalités:
✅ Formulaire de contact optimisé
✅ Système de partenariat commercial  
✅ Espace commercial avec authentification
✅ Gestion complète des prospects/ventes
✅ Design responsive et moderne
✅ Performance optimisée
✅ SEO-friendly

💰 Opportunités:
🏠 Conteneurs 20'/40' aménagés
💼 Conteneurs bureau  
📦 Conteneurs bruts
🤝 Partenariat commercial jusqu'à 140K XPF/vente

🔐 Comptes de test disponibles:
📧 demo@mybox.pf | 🔑 DEMO2025
📧 commercial@mybox.pf | 🔑 MYBOX2025
            `);
        });
    </script>
</body>
</html>